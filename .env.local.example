# Klarna Network API Configuration
# Copy this file to .env.local and fill in your values
#
# ENVIRONMENT LOADING:
# - Local Development: Variables are loaded from this .env.local file
# - Vercel Deployment: Configure the same variables in Vercel dashboard
#   (use the exact same variable names - no prefix needed)
#
# See docs/VERCEL_DEPLOYMENT.md for full Vercel setup instructions.

# ===========================================
# SYSTEM CONFIGURATION (Next.js / Server)
# ===========================================

# Klarna API Base URL
# Test environment: https://api-global.test.klarna.com
# Live environment: https://api-global.klarna.com
KLARNA_BASE_URL=https://api-global.test.klarna.com

# mTLS Certificate Paths (relative to project root or absolute)
# Note: Not available in Vercel serverless - use KLARNA_SKIP_MTLS=true there
KLARNA_CERT_PATH=./certs/client-cert.pem
KLARNA_KEY_PATH=./certs/client-key.pem

# Optional: Disable mTLS for testing (set to 'true' to skip mTLS)
KLARNA_SKIP_MTLS=false

# Turso Database (for persistent call history, env vars, saved requests)
# Sign up at https://turso.tech (free tier: 500 DBs, 9GB storage)
# Get URL: turso db show kn-ap --url
# Get token: turso db tokens create kn-ap
TURSO_DATABASE_URL=libsql://your-db.turso.io
TURSO_AUTH_TOKEN=your-token

# ===========================================
# API COLLECTION VARIABLES
# ===========================================
# These variables are used by the API tester UI.
# For Vercel deployment, add these with KN_AP_ prefix in Vercel dashboard.

# API Authentication
acquiring_partner_api_key=your_acquiring_partner_api_key_here
subpartner_api_key=your_subpartner_api_key_here

# Account IDs
partner_account_id=krn:partner:global:account:test:YOUR_ID
ap_partner_account_id=krn:partner:global:account:test:YOUR_ID
credential_group_owner_id=krn:partner:global:account:test:YOUR_ID

# Credentials
credential_id=your-credential-uuid

# Payment Configuration
payment_profile=krn:network:global:test:payment-profile:your-uuid
payment_acquiring_account_id=krn:network:global:test:payment-acquiring-account:your-uuid
payment_account_id_standard=krn:partner:global:account:payment-account:your-uuid
payment_account_id_PiFnG=krn:partner:global:account:payment-account:your-uuid

# OAuth / JWT Configuration
klarna_client_id=your_klarna_client_id
secret_key_jwt=-----BEGIN EC PRIVATE KEY-----\n...\n-----END EC PRIVATE KEY-----
x5c_jwt=-----BEGIN CERTIFICATE-----\n...\n-----END CERTIFICATE-----

# Other credentials (optional)
cpgw_username=your_cpgw_username
cpgw_password=your_cpgw_password
username=your_username
password=your_password
bank_account_preset_id=your_preset_id
legacy_price_plan_standard=your_price_plan
legacy_price_plan_PiFnG=your_price_plan
